(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{223:function(e,t,r){var content=r(228);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("2e69bd5c",content,!0,{sourceMap:!1})},226:function(e,t,r){"use strict";var o=r(2),n=r(30).findIndex,c=r(75),l=r(17),d=!0,h=l("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),o({target:"Array",proto:!0,forced:d||!h},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},227:function(e,t,r){"use strict";r(223)},228:function(e,t,r){(t=r(51)(!1)).push([e.i,'.md-layout-item{height:40px;margin-top:8px;margin-bottom:8px;transition:.3s 500}.md-layout-item:after{width:100%;height:100%;display:block;background:md-get-palette-color(purple,200);content:" "}.centered-text{text-align:center}.normal{background-color:#f7f7f7}.anomaly--1{background-color:#fddbc7}.anomaly--2{background-color:#ef8a62}.anomaly--3{background-color:#b2182b}.anomaly--4{background-color:#d1e5f0}.anomaly--5{background-color:#67a9cf}.anomaly--6{background-color:#2166ac}body{min-height:unset}',""]),e.exports=t},236:function(e,t,r){"use strict";r.r(t);r(73),r(226),r(56),r(57),r(31),r(38),r(14),r(58),r(24);var o=r(6),n=r(108),c={data:function(){return{months:["Gener","Febrer","MarÃ§","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],currentYear:n.a,yearAvg:0,year:n.a,calculated:!1,colorPalette:["#2166ac","#67a9cf","#d1e5f0","#e0dede","#fddbc7","#ef8a62","#b2182b"],colorMapRange:[-2,-1.25,-.5,.5,1.25,2]}},computed:{yearText:function(){return"".concat(this.year," ").concat(Math.round(100*this.yearAvg)/100)}},layout:"menu",created:function(){this.months=this.months.map((function(e){return{name:e}})),this.requestMonthData()},methods:{calculateMonthsAnomalies:function(){var e=this,t=[0,1,5,6],r=0;try{this.yearMonthAvgTemperature.aggregations[2].buckets.forEach((function(o,i){r+=o[1].value;var n=e.months[i];n.anomaly=o[1].value-e.monthlyAbsoluteAvg.aggregations[2].buckets[i][1].value,n.color=e.getColorAnomaly(n.anomaly);var c=e.colorPalette.findIndex((function(e){return e===n.color}));n.textColor=t.includes(c)?"white":"black";var l=n.anomaly&&n.anomaly>0?"+":"";n.text=n.anomaly?"".concat(n.name,"  ").concat(l).concat(Math.round(100*n.anomaly)/100):n.name})),this.yearAvg=r/this.yearMonthAvgTemperature.aggregations[2].buckets.length}catch(e){this.yearAvg=0}this.calculated=!0},getColorAnomaly:function(e){return e<this.colorMapRange[0]?this.colorPalette[0]:e>=this.colorMapRange[0]&&e<this.colorMapRange[1]?this.colorPalette[1]:e>=this.colorMapRange[1]&&e<this.colorMapRange[2]?this.colorPalette[2]:e>=this.colorMapRange[2]&&e<this.colorMapRange[3]?this.colorPalette[3]:e>=this.colorMapRange[3]&&e<this.colorMapRange[4]?this.colorPalette[4]:e>=this.colorMapRange[4]&&e<=this.colorMapRange[5]?this.colorPalette[5]:this.colorPalette[6]},requestMonthData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.year===e.currentYear?"":"-".concat(e.year),t.next=3,fetch("".concat("https://sergitopo.github.io/temperature-calendar/client/page/","monthly-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return o=t.sent,t.next=6,o.json();case 6:return e.yearMonthAvgTemperature=t.sent,t.next=9,fetch("https://sergitopo.github.io/temperature-calendar/client/page/monthly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 9:return n=t.sent,t.next=12,n.json();case 12:e.monthlyAbsoluteAvg=t.sent,e.calculatedDates=e.calculateMonthsAnomalies();case 14:case"end":return t.stop()}}),t)})))()}},watch:{year:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.calculated=!1,r=t.year===t.currentYear?"":"-".concat(t.year),e.next=4,fetch("".concat("https://sergitopo.github.io/temperature-calendar/client/page/","monthly-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 4:return o=e.sent,e.next=7,o.json();case 7:t.yearMonthAvgTemperature=e.sent,t.calculatedDates=t.calculateMonthsAnomalies();case 9:case"end":return e.stop()}}),e)})))()}}},l=(r(227),r(13)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"vc-arrows-container title-center"},[r("div",{directives:[{name:"show",rawName:"v-show",value:2015!==e.year,expression:"2015 !== year"}],staticClass:"vc-flex vc-justify-center vc-items-center vc-cursor-pointer vc-select-none vc-pointer-events-auto vc-text-gray-600 vc-rounded vc-border-2 vc-border-transparent hover:vc-opacity-50 hover:vc-bg-gray-300 focus:vc-border-gray-300",attrs:{role:"button"},on:{click:function(t){e.year--}}},[r("svg",{staticClass:"vc-svg-icon",attrs:{"data-v-63f7b5ec":"",width:"26px",height:"26px",viewBox:"0 -1 16 34"}},[r("path",{attrs:{"data-v-63f7b5ec":"",d:"M11.196 10c0 0.143-0.071 0.304-0.179 0.411l-7.018 7.018 7.018 7.018c0.107 0.107 0.179 0.268 0.179 0.411s-0.071 0.304-0.179 0.411l-0.893 0.893c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-8.321-8.321c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l8.321-8.321c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l0.893 0.893c0.107 0.107 0.179 0.25 0.179 0.411z"}})])]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.currentYear!==e.year,expression:"currentYear !== year"}],staticClass:"vc-flex vc-justify-center vc-items-center vc-cursor-pointer vc-select-none vc-pointer-events-auto vc-text-gray-600 vc-rounded vc-border-2 vc-border-transparent hover:vc-opacity-50 hover:vc-bg-gray-300 focus:vc-border-gray-300",attrs:{role:"button"},on:{click:function(t){e.year++}}},[r("svg",{staticClass:"vc-svg-icon",attrs:{"data-v-63f7b5ec":"",width:"26px",height:"26px",viewBox:"-5 -1 16 34"}},[r("path",{attrs:{"data-v-63f7b5ec":"",d:"M10.625 17.429c0 0.143-0.071 0.304-0.179 0.411l-8.321 8.321c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-0.893-0.893c-0.107-0.107-0.179-0.25-0.179-0.411 0-0.143 0.071-0.304 0.179-0.411l7.018-7.018-7.018-7.018c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l0.893-0.893c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l8.321 8.321c0.107 0.107 0.179 0.268 0.179 0.411z"}})])])]),e._v(" "),e.calculated?r("div",{staticClass:"md-layout md-gutter md-alignment-center",staticStyle:{margin:"2em","padding-bottom":"5em"}},[r("div",{staticStyle:{"padding-bottom":"1em","font-size":"1.5rem"}},[e._v(e._s(e.yearText))]),e._v(" "),e._l(e.months,(function(t){return r("div",{staticClass:"md-layout-item md-large-size-100 centered-text",staticStyle:{"padding-top":"0.5em"},style:{background:t.color,color:t.textColor}},[e._v(e._s(t.text||t.name))])}))],2):e._e()])}),[],!1,null,null,null);t.default=component.exports}}]);