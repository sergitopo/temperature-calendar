(window.webpackJsonp=window.webpackJsonp||[]).push([[0,4],{293:function(t,e,r){"use strict";var n=r(294).has;t.exports=function(t){return n(t),t}},294:function(t,e,r){"use strict";var n=r(4),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},295:function(t,e,r){"use strict";r.r(e);var n={name:"modal"},o=(r(305),r(23)),component=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[t._t("header",function(){return[t._v("\n                  default header\n                ")]})],2),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body",function(){return[t._v("\n                  default body\n                ")]})],2),t._v(" "),e("div",{staticClass:"modal-footer"},[t._t("footer",function(){return[e("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n                    OK\n                  ")])]})],2)])])])])},[],!1,null,null,null);e.default=component.exports},296:function(t,e,r){"use strict";var n=r(12),o=(r(68),r(113),r(311),r(29),r(21),r(312),r(37),r(315),r(316),r(317),r(321),r(322),r(323),r(324),r(326),r(328),r(330),r(332),r(333),r(334),r(335),r(336),r(338),r(38),r(149)),c=["purple","indigo","blue","normal","yellow","orange","red"],l=[-5,-3.5,-1.5,1.5,3.5,5],f=function(t){(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))).setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)},d=function(t,e,r){var n=[{key:"blue",popover:{label:"Temperatura mitja >1.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--1",fillMode:"light"},dates:[]},{key:"indigo",popover:{label:"Temperatura mitja >3.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--2",fillMode:"light"},dates:[]},{key:"purple",popover:{label:"Temperatura mitja >5º per baix del normal"},highlight:{contentClass:"anomaly-cold--3",fillMode:"light"},dates:[]},{key:"red",popover:{label:"Temperatura mitja >5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--3",fillMode:"light"},dates:[]},{key:"orange",popover:{label:"Temperatura mitja >3.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--2",fillMode:"light"},dates:[]},{key:"yellow",popover:{label:"Temperatura mitja >1.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--1",fillMode:"light"},dates:[]},{key:"normal",popover:{label:"Temperatura mitja normal per a la data"},highlight:{contentClass:"normal",fillMode:"light"},dates:[]}],c=new Date("01-01-".concat(r)),l=new Date;l.setHours(0,0,0,0),r!==o.a&&(l=new Date("12-31-".concat(r))).setHours(23,59,59,999);for(var f=0,d=function(){var r=new Date(c),o=v(t,e,c,f);f++;var l=h(o),d=n.find(function(t){return t.key===l});d&&d.dates.push(r),c.setDate(c.getDate()+1)};c<l;)d();return n},h=function(t){return t<l[0]?c[0]:t>=l[0]&&t<l[1]?c[1]:t>=l[1]&&t<l[2]?c[2]:t>=l[2]&&t<l[3]?c[3]:t>=l[3]&&t<l[4]?c[4]:t>=l[4]&&t<=l[5]?c[5]:c[6]},v=function(t,e,r,n){try{var o=f(r),c=e.aggregations[2].buckets.find(function(t){return t.key===o})[1].value;return t.hits.hits[n]._source.t_avg-c}catch(t){return null}};e.a={data:function(){return{daySelected:null,showDateInfo:!1,calculatedDates:[],created:!1,calendar:null,visitedYearSet:new Set,currentYear:o.a}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n,c,l,f,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Generating route:",t.route.path,"name:",t.route.name),r=(r=(r=parseInt(t.route.name))||o.a)===o.a?"":"-".concat(r),e.next=1,fetch("https://sergitopo.github.io/temperature-calendar/client/page/"+"daily-temperatures".concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 1:return n=e.sent,e.next=2,n.json();case 2:return c=e.sent,e.next=3,fetch("https://sergitopo.github.io/temperature-calendar/client/page/weekly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return l=e.sent,e.next=4,l.json();case 4:return f=e.sent,h=d(c,f,parseInt(t.route.name)),e.abrupt("return",{calculatedDates:h,dates:h,dailyTemperature:c,weekOfYearAvg:f});case 5:case"end":return e.stop()}},e)}))()},mounted:function(){var t=this;this.visitedYearSet.add(this.year),this.created=!0,this.$nextTick(function(){t.calendar=t.$refs.calendar,t.year===t.currentYear&&t.calendar.focusDate&&t.calendar.focusDate(new Date)})},methods:{requestData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.year===t.currentYear?"":"-".concat(t.year),e.next=1,fetch("".concat("https://sergitopo.github.io/temperature-calendar/client/page/","daily-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 1:return n=e.sent,e.next=2,n.json();case 2:return t.dailyTemperature=e.sent,e.next=3,fetch("https://sergitopo.github.io/temperature-calendar/client/page/weekly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return o=e.sent,e.next=4,o.json();case 4:t.weekOfYearAvg=e.sent,t.calculatedDates=d(t.dailyTemperature,t.weekOfYearAvg,parseInt(t.year));case 5:case"end":return e.stop()}},e)}))()},onYearChange:function(t){t.year!==this.year||!0!==this.create?this.$router.push("/".concat(t.year)):this.created=!1},getDayTemperatures:function(t){var e=this.getWeekNumber(t.date),r=Math.round(Math.abs((t.date-new Date("01-01-".concat(this.year)))/864e5)),n=this.weekOfYearAvg.aggregations[2].buckets.find(function(t){return t.key===e})[1].value,o=this.dailyTemperature.hits.hits[r]._source.t_avg;console.log(o),console.log(n),this.daySelected={day:t.ariaLabel,dayTemperature:o,normalDayTemperature:n},this.showDateInfo=!0},getWeekNumber:function(t){return f(t)}}}},297:function(t,e,r){"use strict";var n=r(4),o=r(299),c=r(294),l=c.Set,f=c.proto,d=n(f.forEach),h=n(f.keys),v=h(new l).next;t.exports=function(t,e,r){return r?o({iterator:h(t),next:v},e):d(t,e)}},298:function(t,e,r){"use strict";var n=r(24),o=r(7),c=r(318),l=r(8),f=n("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new f(t):t}},299:function(t,e,r){"use strict";var n=r(9);t.exports=function(t,e,r){for(var o,c,l=r?t:t.iterator,f=t.next;!(o=n(f,l)).done;)if(void 0!==(c=e(o.value)))return c}},300:function(t,e,r){"use strict";var n=r(33),o=r(13),c=r(9),l=r(47),f=r(320),d="Invalid size",h=RangeError,v=TypeError,m=Math.max,y=function(t,e){this.set=t,this.size=m(e,0),this.has=n(t.has),this.keys=n(t.keys)};y.prototype={getIterator:function(){return f(o(c(this.keys,this.set)))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new v(d);var r=l(e);if(r<0)throw new h(d);return new y(t,r)}},301:function(t,e,r){"use strict";var n=r(210),o=r(294);t.exports=n(o.proto,"size","get")||function(t){return t.size}},302:function(t,e,r){var content=r(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("7070a1ca",content,!0,{sourceMap:!1})},304:function(t,e,r){"use strict";var n=r(294),o=r(297),c=n.Set,l=n.add;t.exports=function(t){var e=new c;return o(t,function(t){l(e,t)}),e}},305:function(t,e,r){"use strict";r(302)},306:function(t,e,r){var n=r(66)(!1);n.push([t.i,'\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: table;\n  transition: opacity 0.3s ease;\n}\n.modal-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n.modal-container {\n  width: 300px;\n  margin: 0px auto;\n  padding: 20px 30px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  transition: all 0.3s ease;\n  font-family: Helvetica, Arial, sans-serif;\n}\n.modal-header h3 {\n  margin-top: 0;\n  color: #42b983;\n}\n.modal-body {\n  margin: 20px 0;\n}\n.modal-default-button {\n  float: right;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition="modal" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the modal transition by editing\n * these styles.\n */\n.modal-enter {\n  opacity: 0;\n}\n.modal-leave-active {\n  opacity: 0;\n}\n.modal-enter .modal-container,\n.modal-leave-active .modal-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n.vc-day-content {\n    width: calc(var(--day-content-width) + 10px)!important;\n}\n\n',""]),t.exports=n},311:function(t,e,r){"use strict";var n=r(2),o=r(69).find,c=r(150),l="find",f=!0;l in[]&&Array(1)[l](function(){f=!1}),n({target:"Array",proto:!0,forced:f},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},312:function(t,e,r){"use strict";r(313)},313:function(t,e,r){"use strict";r(211)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(314))},314:function(t,e,r){"use strict";var n=r(36),o=r(71),c=r(115),l=r(45),f=r(89),d=r(46),h=r(73),v=r(152),m=r(114),y=r(153),x=r(10),w=r(116).fastKey,k=r(26),S=k.set,T=k.getterFor;t.exports={getConstructor:function(t,e,r,v){var m=t(function(t,o){f(t,y),S(t,{type:e,index:n(null),first:null,last:null,size:0}),x||(t.size=0),d(o)||h(o,t[v],{that:t,AS_ENTRIES:r})}),y=m.prototype,k=T(e),D=function(t,e,r){var n,o,c=k(t),l=j(t,e);return l?l.value=r:(c.last=l={index:o=w(e,!0),key:e,value:r,previous:n=c.last,next:null,removed:!1},c.first||(c.first=l),n&&(n.next=l),x?c.size++:t.size++,"F"!==o&&(c.index[o]=l)),t},j=function(t,e){var r,n=k(t),o=w(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return c(y,{clear:function(){for(var t=k(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),x?t.size=0:this.size=0},delete:function(t){var e=this,r=k(e),n=j(e,t);if(n){var o=n.next,c=n.previous;delete r.index[n.index],n.removed=!0,c&&(c.next=o),o&&(o.previous=c),r.first===n&&(r.first=o),r.last===n&&(r.last=c),x?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=k(this),n=l(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!j(this,t)}}),c(y,r?{get:function(t){var e=j(this,t);return e&&e.value},set:function(t,e){return D(this,0===t?0:t,e)}}:{add:function(t){return D(this,t=0===t?0:t,t)}}),x&&o(y,"size",{configurable:!0,get:function(){return k(this).size}}),m},setStrong:function(t,e,r){var n=e+" Iterator",o=T(e),c=T(n);v(t,e,function(t,e){S(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){for(var t=c(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?m("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,m(void 0,!0))},r?"entries":"values",!r,!0),y(e)}}},315:function(t,e,r){"use strict";var n=r(2),o=r(293),c=r(294).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,r=arguments.length;e<r;e++)c(t,arguments[e]);return t}})},316:function(t,e,r){"use strict";var n=r(2),o=r(293),c=r(294).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,l=arguments.length;n<l;n++)t=c(e,arguments[n]),r=r&&t;return!!r}})},317:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(319);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},318:function(t,e,r){"use strict";var n=r(72),o=r(11),c=r(46),l=r(6),f=r(70),d=l("iterator"),h=Object;t.exports=function(t){if(c(t))return!1;var e=h(t);return void 0!==e[d]||"@@iterator"in e||o(f,n(e))}},319:function(t,e,r){"use strict";var n=r(293),o=r(294),c=r(304),l=r(301),f=r(300),d=r(297),h=r(299),v=o.has,m=o.remove;t.exports=function(t){var e=n(this),r=f(t),o=c(e);return l(e)<=r.size?d(e,function(t){r.includes(t)&&m(o,t)}):h(r.getIterator(),function(t){v(o,t)&&m(o,t)}),o}},320:function(t,e,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},321:function(t,e,r){"use strict";var n=r(2),o=r(45),c=r(293),l=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,function(t){if(!r(t,t,e))return!1},!0)}})},322:function(t,e,r){"use strict";var n=r(2),o=r(45),c=r(293),l=r(294),f=r(297),d=l.Set,h=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new d;return f(e,function(t){r(t,t,e)&&h(n,t)}),n}})},323:function(t,e,r){"use strict";var n=r(2),o=r(45),c=r(293),l=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=l(e,function(t){if(r(t,t,e))return{value:t}},!0);return n&&n.value}})},324:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(325);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},325:function(t,e,r){"use strict";var n=r(293),o=r(294),c=r(301),l=r(300),f=r(297),d=r(299),h=o.Set,v=o.add,m=o.has;t.exports=function(t){var e=n(this),r=l(t),o=new h;return c(e)>r.size?d(r.getIterator(),function(t){m(e,t)&&v(o,t)}):f(e,function(t){r.includes(t)&&v(o,t)}),o}},326:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(327);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},327:function(t,e,r){"use strict";var n=r(293),o=r(294).has,c=r(301),l=r(300),f=r(297),d=r(299),h=r(151);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<=r.size)return!1!==f(e,function(t){if(r.includes(t))return!1},!0);var v=r.getIterator();return!1!==d(v,function(t){if(o(e,t))return h(v,"normal",!1)})}},328:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(329);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},329:function(t,e,r){"use strict";var n=r(293),o=r(301),c=r(297),l=r(300);t.exports=function(t){var e=n(this),r=l(t);return!(o(e)>r.size)&&!1!==c(e,function(t){if(!r.includes(t))return!1},!0)}},330:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(331);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},331:function(t,e,r){"use strict";var n=r(293),o=r(294).has,c=r(301),l=r(300),f=r(299),d=r(151);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<r.size)return!1;var h=r.getIterator();return!1!==f(h,function(t){if(!o(e,t))return d(h,"normal",!1)})}},332:function(t,e,r){"use strict";var n=r(2),o=r(4),c=r(293),l=r(297),f=r(14),d=o([].join),h=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),r=void 0===t?",":f(t),n=[];return l(e,function(t){h(n,t)}),d(n,r)}})},333:function(t,e,r){"use strict";var n=r(2),o=r(45),c=r(293),l=r(294),f=r(297),d=l.Set,h=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new d;return f(e,function(t){h(n,r(t,t,e))}),n}})},334:function(t,e,r){"use strict";var n=r(2),o=r(33),c=r(293),l=r(297),f=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),r=arguments.length<2,n=r?void 0:arguments[1];if(o(t),l(e,function(o){r?(r=!1,n=o):n=t(n,o,o,e)}),r)throw new f("Reduce of empty set with no initial value");return n}})},335:function(t,e,r){"use strict";var n=r(2),o=r(45),c=r(293),l=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,function(t){if(r(t,t,e))return!0},!0)}})},336:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(337);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},337:function(t,e,r){"use strict";var n=r(293),o=r(294),c=r(304),l=r(300),f=r(299),d=o.add,h=o.has,v=o.remove;t.exports=function(t){var e=n(this),r=l(t).getIterator(),o=c(e);return f(r,function(t){h(e,t)?v(o,t):d(o,t)}),o}},338:function(t,e,r){"use strict";var n=r(2),o=r(9),c=r(298),l=r(339);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},339:function(t,e,r){"use strict";var n=r(293),o=r(294).add,c=r(304),l=r(300),f=r(299);t.exports=function(t){var e=n(this),r=l(t).getIterator(),d=c(e);return f(r,function(t){o(d,t)}),d}}}]);