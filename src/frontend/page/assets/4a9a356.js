(window.webpackJsonp=window.webpackJsonp||[]).push([[0,4],{293:function(t,e,r){"use strict";var n=r(294).has;t.exports=function(t){return n(t),t}},294:function(t,e,r){"use strict";var n=r(4),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},295:function(t,e,r){"use strict";r.r(e);var n={name:"modal"},o=(r(306),r(23)),component=Object(o.a)(n,function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[t._t("header",function(){return[t._v("\n                  default header\n                ")]})],2),t._v(" "),e("div",{staticClass:"modal-body"},[t._t("body",function(){return[t._v("\n                  default body\n                ")]})],2),t._v(" "),e("div",{staticClass:"modal-footer"},[t._t("footer",function(){return[e("button",{staticClass:"modal-default-button",on:{click:function(e){return t.$emit("close")}}},[t._v("\n                    OK\n                  ")])]})],2)])])])])},[],!1,null,null,null);e.default=component.exports},296:function(t,e,r){"use strict";var n=r(12),o=(r(68),r(113),r(312),r(29),r(21),r(313),r(37),r(316),r(317),r(318),r(322),r(323),r(324),r(325),r(327),r(329),r(331),r(333),r(334),r(335),r(336),r(337),r(339),r(38),r(149)),l=r(305),c=["purple","indigo","blue","normal","yellow","orange","red"],d=[-5,-3.5,-1.5,1.5,3.5,5],f=function(t){(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))).setUTCDate(t.getUTCDate()+4-(t.getUTCDay()||7));var e=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-e)/864e5+1)/7)},h=function(t,e,r){var n=[{key:"blue",popover:{label:"Temperatura mitja >1.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--1",fillMode:"light"},dates:[]},{key:"indigo",popover:{label:"Temperatura mitja >3.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--2",fillMode:"light"},dates:[]},{key:"purple",popover:{label:"Temperatura mitja >5º per baix del normal"},highlight:{contentClass:"anomaly-cold--3",fillMode:"light"},dates:[]},{key:"red",popover:{label:"Temperatura mitja >5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--3",fillMode:"light"},dates:[]},{key:"orange",popover:{label:"Temperatura mitja >3.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--2",fillMode:"light"},dates:[]},{key:"yellow",popover:{label:"Temperatura mitja >1.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--1",fillMode:"light"},dates:[]},{key:"normal",popover:{label:"Temperatura mitja normal per a la data"},highlight:{contentClass:"normal",fillMode:"light"},dates:[]}],l=new Date("01-01-".concat(r)),c=new Date;c.setHours(0,0,0,0),r!==o.a&&(c=new Date("12-31-".concat(r))).setHours(23,59,59,999);for(var d=0,f=function(){var r=new Date(l),o=m(t,e,l,d);d++;var c=v(o),f=n.find(function(t){return t.key===c});f&&f.dates.push(r),l.setDate(l.getDate()+1)};l<c;)f();return n},v=function(t){return t<d[0]?c[0]:t>=d[0]&&t<d[1]?c[1]:t>=d[1]&&t<d[2]?c[2]:t>=d[2]&&t<d[3]?c[3]:t>=d[3]&&t<d[4]?c[4]:t>=d[4]&&t<=d[5]?c[5]:c[6]},m=function(t,e,r,n){try{var o=f(r),l=e.aggregations[2].buckets.find(function(t){return t.key===o})[1].value;return t.hits.hits[n]._source.t_avg-l}catch(t){return null}};e.a={data:function(){return{daySelected:null,showDateInfo:!1,calculatedDates:[],created:!1,calendar:null,visitedYearSet:new Set,currentYear:o.a}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n,c,d,f,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Generating route:",t.route.path,"name:",t.route.name),r=(r=parseInt(t.route.name))||o.a,n=r===o.a?"":"-".concat(r),e.next=1,fetch("".concat(l.a.s3BucketUrl,"/daily-temperatures").concat(n,".json"),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow"});case 1:return c=e.sent,e.next=2,c.json();case 2:return d=e.sent,e.next=3,fetch("https://sergitopo.github.io/temperature-calendar/client/page/weekly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return f=e.sent,e.next=4,f.json();case 4:return v=e.sent,m=h(d,v,parseInt(t.route.name)),e.abrupt("return",{calculatedDates:m,dates:m,dailyTemperature:d,weekOfYearAvg:v});case 5:case"end":return e.stop()}},e)}))()},mounted:function(){var t=this;this.visitedYearSet.add(this.year),this.created=!0,this.$nextTick(function(){t.calendar=t.$refs.calendar,t.year===t.currentYear&&t.calendar.focusDate&&t.calendar.focusDate(new Date)})},methods:{requestData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark(function e(){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.year===t.currentYear?"":"-".concat(t.year),e.next=1,fetch("".concat(l.a.s3BucketUrl,"/daily-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow"});case 1:return n=e.sent,e.next=2,n.json();case 2:return t.dailyTemperature=e.sent,e.next=3,fetch("https://sergitopo.github.io/temperature-calendar/client/page/weekly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return o=e.sent,e.next=4,o.json();case 4:t.weekOfYearAvg=e.sent,t.calculatedDates=h(t.dailyTemperature,t.weekOfYearAvg,parseInt(t.year));case 5:case"end":return e.stop()}},e)}))()},onYearChange:function(t){t.year!==this.year||!0!==this.create?this.$router.push("/".concat(t.year)):this.created=!1},getDayTemperatures:function(t){var e=this.getWeekNumber(t.date),r=Math.round(Math.abs((t.date-new Date("01-01-".concat(this.year)))/864e5)),n=this.weekOfYearAvg.aggregations[2].buckets.find(function(t){return t.key===e})[1].value,o=this.dailyTemperature.hits.hits[r]._source.t_avg;console.log(o),console.log(n),this.daySelected={day:t.ariaLabel,dayTemperature:o,normalDayTemperature:n},this.showDateInfo=!0},getWeekNumber:function(t){return f(t)}}}},297:function(t,e,r){"use strict";var n=r(4),o=r(299),l=r(294),c=l.Set,d=l.proto,f=n(d.forEach),h=n(d.keys),v=h(new c).next;t.exports=function(t,e,r){return r?o({iterator:h(t),next:v},e):f(t,e)}},298:function(t,e,r){"use strict";var n=r(24),o=r(7),l=r(319),c=r(8),d=n("Set");t.exports=function(t){return function(t){return c(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:l(t)?new d(t):t}},299:function(t,e,r){"use strict";var n=r(9);t.exports=function(t,e,r){for(var o,l,c=r?t:t.iterator,d=t.next;!(o=n(d,c)).done;)if(void 0!==(l=e(o.value)))return l}},300:function(t,e,r){"use strict";var n=r(33),o=r(13),l=r(9),c=r(47),d=r(321),f="Invalid size",h=RangeError,v=TypeError,m=Math.max,y=function(t,e){this.set=t,this.size=m(e,0),this.has=n(t.has),this.keys=n(t.keys)};y.prototype={getIterator:function(){return d(o(l(this.keys,this.set)))},includes:function(t){return l(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw new v(f);var r=c(e);if(r<0)throw new h(f);return new y(t,r)}},301:function(t,e,r){"use strict";var n=r(210),o=r(294);t.exports=n(o.proto,"size","get")||function(t){return t.size}},302:function(t,e,r){var content=r(307);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("7070a1ca",content,!0,{sourceMap:!1})},304:function(t,e,r){"use strict";var n=r(294),o=r(297),l=n.Set,c=n.add;t.exports=function(t){var e=new l;return o(t,function(t){c(e,t)}),e}},305:function(t,e,r){"use strict";e.a={s3BucketUrl:"https://year-temperatures.s3.eu-west-1.amazonaws.com",dailyAnomalyColorPalette:["purple","indigo","blue","normal","yellow","orange","red"],dailyColorAnomalyThresholds:[-5,-3.5,-1.5,1.5,3.5,5],dates:[{key:"blue",popover:{label:"Temperatura mitja >1.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--1",fillMode:"light"},dates:[]},{key:"indigo",popover:{label:"Temperatura mitja >3.5º per baix del normal"},highlight:{contentClass:"anomaly-cold--2",fillMode:"light"},dates:[]},{key:"purple",popover:{label:"Temperatura mitja >5º per baix del normal"},highlight:{contentClass:"anomaly-cold--3",fillMode:"light"},dates:[]},{key:"red",popover:{label:"Temperatura mitja >5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--3",fillMode:"light"},dates:[]},{key:"orange",popover:{label:"Temperatura mitja >3.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--2",fillMode:"light"},dates:[]},{key:"yellow",popover:{label:"Temperatura mitja >1.5º per dalt del normal"},highlight:{contentClass:"anomaly-hot--1",fillMode:"light"},dates:[]},{key:"normal",popover:{label:"Temperatura mitja normal per a la data"},highlight:{contentClass:"normal",fillMode:"light"},dates:[]}]}},306:function(t,e,r){"use strict";r(302)},307:function(t,e,r){var n=r(66)(!1);n.push([t.i,'\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: table;\n  transition: opacity 0.3s ease;\n}\n.modal-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n.modal-container {\n  width: 300px;\n  margin: 0px auto;\n  padding: 20px 30px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  transition: all 0.3s ease;\n  font-family: Helvetica, Arial, sans-serif;\n}\n.modal-header h3 {\n  margin-top: 0;\n  color: #42b983;\n}\n.modal-body {\n  margin: 20px 0;\n}\n.modal-default-button {\n  float: right;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition="modal" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the modal transition by editing\n * these styles.\n */\n.modal-enter {\n  opacity: 0;\n}\n.modal-leave-active {\n  opacity: 0;\n}\n.modal-enter .modal-container,\n.modal-leave-active .modal-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n.vc-day-content {\n    width: calc(var(--day-content-width) + 10px)!important;\n}\n\n',""]),t.exports=n},312:function(t,e,r){"use strict";var n=r(2),o=r(69).find,l=r(150),c="find",d=!0;c in[]&&Array(1)[c](function(){d=!1}),n({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},313:function(t,e,r){"use strict";r(314)},314:function(t,e,r){"use strict";r(211)("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r(315))},315:function(t,e,r){"use strict";var n=r(36),o=r(71),l=r(115),c=r(45),d=r(89),f=r(46),h=r(73),v=r(152),m=r(114),y=r(153),x=r(10),w=r(116).fastKey,k=r(26),T=k.set,S=k.getterFor;t.exports={getConstructor:function(t,e,r,v){var m=t(function(t,o){d(t,y),T(t,{type:e,index:n(null),first:null,last:null,size:0}),x||(t.size=0),f(o)||h(o,t[v],{that:t,AS_ENTRIES:r})}),y=m.prototype,k=S(e),C=function(t,e,r){var n,o,l=k(t),c=j(t,e);return c?c.value=r:(l.last=c={index:o=w(e,!0),key:e,value:r,previous:n=l.last,next:null,removed:!1},l.first||(l.first=c),n&&(n.next=c),x?l.size++:t.size++,"F"!==o&&(l.index[o]=c)),t},j=function(t,e){var r,n=k(t),o=w(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return l(y,{clear:function(){for(var t=k(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=n(null),x?t.size=0:this.size=0},delete:function(t){var e=this,r=k(e),n=j(e,t);if(n){var o=n.next,l=n.previous;delete r.index[n.index],n.removed=!0,l&&(l.next=o),o&&(o.previous=l),r.first===n&&(r.first=o),r.last===n&&(r.last=l),x?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=k(this),n=c(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!j(this,t)}}),l(y,r?{get:function(t){var e=j(this,t);return e&&e.value},set:function(t,e){return C(this,0===t?0:t,e)}}:{add:function(t){return C(this,t=0===t?0:t,t)}}),x&&o(y,"size",{configurable:!0,get:function(){return k(this).size}}),m},setStrong:function(t,e,r){var n=e+" Iterator",o=S(e),l=S(n);v(t,e,function(t,e){T(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){for(var t=l(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?m("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,m(void 0,!0))},r?"entries":"values",!r,!0),y(e)}}},316:function(t,e,r){"use strict";var n=r(2),o=r(293),l=r(294).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,r=arguments.length;e<r;e++)l(t,arguments[e]);return t}})},317:function(t,e,r){"use strict";var n=r(2),o=r(293),l=r(294).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,c=arguments.length;n<c;n++)t=l(e,arguments[n]),r=r&&t;return!!r}})},318:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(320);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(c,this,l(t))}})},319:function(t,e,r){"use strict";var n=r(72),o=r(11),l=r(46),c=r(6),d=r(70),f=c("iterator"),h=Object;t.exports=function(t){if(l(t))return!1;var e=h(t);return void 0!==e[f]||"@@iterator"in e||o(d,n(e))}},320:function(t,e,r){"use strict";var n=r(293),o=r(294),l=r(304),c=r(301),d=r(300),f=r(297),h=r(299),v=o.has,m=o.remove;t.exports=function(t){var e=n(this),r=d(t),o=l(e);return c(e)<=r.size?f(e,function(t){r.includes(t)&&m(o,t)}):h(r.getIterator(),function(t){v(o,t)&&m(o,t)}),o}},321:function(t,e,r){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},322:function(t,e,r){"use strict";var n=r(2),o=r(45),l=r(293),c=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!1!==c(e,function(t){if(!r(t,t,e))return!1},!0)}})},323:function(t,e,r){"use strict";var n=r(2),o=r(45),l=r(293),c=r(294),d=r(297),f=c.Set,h=c.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(e,function(t){r(t,t,e)&&h(n,t)}),n}})},324:function(t,e,r){"use strict";var n=r(2),o=r(45),l=r(293),c=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=c(e,function(t){if(r(t,t,e))return{value:t}},!0);return n&&n.value}})},325:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(326);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(c,this,l(t))}})},326:function(t,e,r){"use strict";var n=r(293),o=r(294),l=r(301),c=r(300),d=r(297),f=r(299),h=o.Set,v=o.add,m=o.has;t.exports=function(t){var e=n(this),r=c(t),o=new h;return l(e)>r.size?f(r.getIterator(),function(t){m(e,t)&&v(o,t)}):d(e,function(t){r.includes(t)&&v(o,t)}),o}},327:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(328);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(c,this,l(t))}})},328:function(t,e,r){"use strict";var n=r(293),o=r(294).has,l=r(301),c=r(300),d=r(297),f=r(299),h=r(151);t.exports=function(t){var e=n(this),r=c(t);if(l(e)<=r.size)return!1!==d(e,function(t){if(r.includes(t))return!1},!0);var v=r.getIterator();return!1!==f(v,function(t){if(o(e,t))return h(v,"normal",!1)})}},329:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(330);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(c,this,l(t))}})},330:function(t,e,r){"use strict";var n=r(293),o=r(301),l=r(297),c=r(300);t.exports=function(t){var e=n(this),r=c(t);return!(o(e)>r.size)&&!1!==l(e,function(t){if(!r.includes(t))return!1},!0)}},331:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(332);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(c,this,l(t))}})},332:function(t,e,r){"use strict";var n=r(293),o=r(294).has,l=r(301),c=r(300),d=r(299),f=r(151);t.exports=function(t){var e=n(this),r=c(t);if(l(e)<r.size)return!1;var h=r.getIterator();return!1!==d(h,function(t){if(!o(e,t))return f(h,"normal",!1)})}},333:function(t,e,r){"use strict";var n=r(2),o=r(4),l=r(293),c=r(297),d=r(14),f=o([].join),h=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=l(this),r=void 0===t?",":d(t),n=[];return c(e,function(t){h(n,t)}),f(n,r)}})},334:function(t,e,r){"use strict";var n=r(2),o=r(45),l=r(293),c=r(294),d=r(297),f=c.Set,h=c.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return d(e,function(t){h(n,r(t,t,e))}),n}})},335:function(t,e,r){"use strict";var n=r(2),o=r(33),l=r(293),c=r(297),d=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=l(this),r=arguments.length<2,n=r?void 0:arguments[1];if(o(t),c(e,function(o){r?(r=!1,n=o):n=t(n,o,o,e)}),r)throw new d("Reduce of empty set with no initial value");return n}})},336:function(t,e,r){"use strict";var n=r(2),o=r(45),l=r(293),c=r(297);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=l(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!0===c(e,function(t){if(r(t,t,e))return!0},!0)}})},337:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(338);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(c,this,l(t))}})},338:function(t,e,r){"use strict";var n=r(293),o=r(294),l=r(304),c=r(300),d=r(299),f=o.add,h=o.has,v=o.remove;t.exports=function(t){var e=n(this),r=c(t).getIterator(),o=l(e);return d(r,function(t){h(e,t)?v(o,t):f(o,t)}),o}},339:function(t,e,r){"use strict";var n=r(2),o=r(9),l=r(298),c=r(340);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(c,this,l(t))}})},340:function(t,e,r){"use strict";var n=r(293),o=r(294).add,l=r(304),c=r(300),d=r(299);t.exports=function(t){var e=n(this),r=c(t).getIterator(),f=l(e);return d(r,function(t){o(f,t)}),f}}}]);