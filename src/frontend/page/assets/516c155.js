(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{309:function(e,t,r){var content=r(342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(67).default)("1f9ece0a",content,!0,{sourceMap:!1})},340:function(e,t,r){"use strict";var o=r(2),n=r(69).findIndex,c=r(150),l="findIndex",d=!0;l in[]&&Array(1)[l](function(){d=!1}),o({target:"Array",proto:!0,forced:d},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)},341:function(e,t,r){"use strict";r(309)},342:function(e,t,r){var o=r(66)(!1);o.push([e.i,'.md-layout-item{height:40px;margin-top:8px;margin-bottom:8px;transition:.3s 500}.md-layout-item:after{width:100%;height:100%;display:block;background:md-get-palette-color(purple, 200);content:" "}.centered-text{text-align:center}.normal{background-color:#f7f7f7}.anomaly--1{background-color:#fddbc7}.anomaly--2{background-color:#ef8a62}.anomaly--3{background-color:#b2182b}.anomaly--4{background-color:#d1e5f0}.anomaly--5{background-color:#67a9cf}.anomaly--6{background-color:#2166ac}body{min-height:unset}',""]),e.exports=o},354:function(e,t,r){"use strict";r.r(t);r(29);var o=r(12),n=(r(68),r(113),r(340),r(48),r(49),r(21),r(50),r(149)),c={data:function(){return{months:["Gener","Febrer","MarÃ§","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],currentYear:n.a,yearAvg:0,year:n.a,calculated:!1,colorPalette:["#2166ac","#67a9cf","#d1e5f0","#e0dede","#fddbc7","#ef8a62","#b2182b"],colorMapRange:[-2,-1.25,-.5,.5,1.25,2]}},computed:{yearText:function(){return"".concat(this.year," ").concat(Math.round(100*this.yearAvg)/100)}},layout:"menu",created:function(){this.months=this.months.map(function(e){return{name:e}}),this.requestMonthData()},methods:{calculateMonthsAnomalies:function(){var e=this,t=[0,1,5,6],r=0;try{this.months.forEach(function(o,i){var n=e.yearMonthAvgTemperature.aggregations[2].buckets[i];if(void 0===n)return o.anomaly=0,o.textColor="black",void(o.color="transparent");r+=n[1].value,o.anomaly=n[1].value-e.monthlyAbsoluteAvg.aggregations[2].buckets[i][1].value,o.color=e.getColorAnomaly(o.anomaly);var c=e.colorPalette.findIndex(function(e){return e===o.color});o.textColor=t.includes(c)?"white":"black";var l=o.anomaly&&o.anomaly>0?"+":"";o.text=o.anomaly?"".concat(o.name,"  ").concat(l).concat(Math.round(100*o.anomaly)/100):o.name}),this.yearAvg=r/this.yearMonthAvgTemperature.aggregations[2].buckets.length}catch(e){this.yearAvg=0}this.calculated=!0},getColorAnomaly:function(e){return e<this.colorMapRange[0]?this.colorPalette[0]:e>=this.colorMapRange[0]&&e<this.colorMapRange[1]?this.colorPalette[1]:e>=this.colorMapRange[1]&&e<this.colorMapRange[2]?this.colorPalette[2]:e>=this.colorMapRange[2]&&e<this.colorMapRange[3]?this.colorPalette[3]:e>=this.colorMapRange[3]&&e<this.colorMapRange[4]?this.colorPalette[4]:e>=this.colorMapRange[4]&&e<=this.colorMapRange[5]?this.colorPalette[5]:this.colorPalette[6]},requestMonthData:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark(function t(){var r,o,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.year===e.currentYear?"":"-".concat(e.year),t.next=1,fetch("".concat("https://sergitopo.github.io/temperature-calendar/client/page/","monthly-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 1:return o=t.sent,t.next=2,o.json();case 2:return e.yearMonthAvgTemperature=t.sent,t.next=3,fetch("https://sergitopo.github.io/temperature-calendar/client/page/monthly-avg.json",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 3:return n=t.sent,t.next=4,n.json();case 4:e.monthlyAbsoluteAvg=t.sent,e.calculatedDates=e.calculateMonthsAnomalies();case 5:case"end":return t.stop()}},t)}))()}},watch:{year:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.calculated=!1,r=t.year===t.currentYear?"":"-".concat(t.year),e.next=1,fetch("".concat("https://sergitopo.github.io/temperature-calendar/client/page/","monthly-temperatures").concat(r,".json"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"origin"});case 1:return o=e.sent,e.next=2,o.json();case 2:t.yearMonthAvgTemperature=e.sent,t.calculatedDates=t.calculateMonthsAnomalies();case 3:case"end":return e.stop()}},e)}))()}}},l=(r(341),r(23)),component=Object(l.a)(c,function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"vc-arrows-container title-center"},[t("div",{directives:[{name:"show",rawName:"v-show",value:2015!==e.year,expression:"2015 !== year"}],staticClass:"vc-flex vc-justify-center vc-items-center vc-cursor-pointer vc-select-none vc-pointer-events-auto vc-text-gray-600 vc-rounded vc-border-2 vc-border-transparent hover:vc-opacity-50 hover:vc-bg-gray-300 focus:vc-border-gray-300",attrs:{role:"button"},on:{click:function(t){e.year--}}},[t("svg",{staticClass:"vc-svg-icon",attrs:{"data-v-63f7b5ec":"",width:"26px",height:"26px",viewBox:"0 -1 16 34"}},[t("path",{attrs:{"data-v-63f7b5ec":"",d:"M11.196 10c0 0.143-0.071 0.304-0.179 0.411l-7.018 7.018 7.018 7.018c0.107 0.107 0.179 0.268 0.179 0.411s-0.071 0.304-0.179 0.411l-0.893 0.893c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-8.321-8.321c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l8.321-8.321c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l0.893 0.893c0.107 0.107 0.179 0.25 0.179 0.411z"}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.currentYear!==e.year,expression:"currentYear !== year"}],staticClass:"vc-flex vc-justify-center vc-items-center vc-cursor-pointer vc-select-none vc-pointer-events-auto vc-text-gray-600 vc-rounded vc-border-2 vc-border-transparent hover:vc-opacity-50 hover:vc-bg-gray-300 focus:vc-border-gray-300",attrs:{role:"button"},on:{click:function(t){e.year++}}},[t("svg",{staticClass:"vc-svg-icon",attrs:{"data-v-63f7b5ec":"",width:"26px",height:"26px",viewBox:"-5 -1 16 34"}},[t("path",{attrs:{"data-v-63f7b5ec":"",d:"M10.625 17.429c0 0.143-0.071 0.304-0.179 0.411l-8.321 8.321c-0.107 0.107-0.268 0.179-0.411 0.179s-0.304-0.071-0.411-0.179l-0.893-0.893c-0.107-0.107-0.179-0.25-0.179-0.411 0-0.143 0.071-0.304 0.179-0.411l7.018-7.018-7.018-7.018c-0.107-0.107-0.179-0.268-0.179-0.411s0.071-0.304 0.179-0.411l0.893-0.893c0.107-0.107 0.268-0.179 0.411-0.179s0.304 0.071 0.411 0.179l8.321 8.321c0.107 0.107 0.179 0.268 0.179 0.411z"}})])])]),e._v(" "),e.calculated?t("div",{staticClass:"md-layout md-gutter md-alignment-center",staticStyle:{margin:"2em","padding-bottom":"5em"}},[t("div",{staticStyle:{"padding-bottom":"1em","font-size":"1.5rem"}},[e._v(e._s(e.yearText))]),e._v(" "),e._l(e.months,function(r){return t("div",{staticClass:"md-layout-item md-large-size-100 centered-text",staticStyle:{"padding-top":"0.5em"},style:{background:r.color,color:r.textColor}},[e._v(e._s(r.text||r.name))])})],2):e._e()])},[],!1,null,null,null);t.default=component.exports}}]);